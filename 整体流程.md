### 整体流程
#### mapper扫描阶段
这个阶段使用ClassPathBeanDefinitionScanner（实际是ClassPathMapperScanner）进行mapper
接口的扫描，扫描出mapper的BeanDefinition，然后使用MapperFactoryBean包装mapper接口，
并且使用MapperFactoryBean作为mapper接口BeanDefinition的beanClass；
#### mapper注入阶段
首先需要向MapperFactoryBean注入sqlSessionFactory，并且创建SqlSessionTemplate，sqlSessionFactory
通过SqlSessionFactoryBean注入到spring容器中，也就是每个MapperFactoryBean都有一个SqlSessionTemplate；
SqlSessionTemplate采用装饰器模式，实现了SqlSession接口，内部维护一个SqlSession的jdk代理对象，
SqlSessionTemplate所有的操作都通过SqlSession代理对象来执行；
#### mapper调用阶段
SqlSessionTemplate内部的SqlSession代理采用jdk代理，每次调用时都会判断事务线程中是否
存在缓存的sqlSession，如果存在则取之进行调用，否则创建一个新的SqlSession对象（DefaultSqlSession）
用于真实的调用；